INFO:     Will watch for changes in these directories: ['/Users/shreyansh/idance-backend']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [37369] using StatReload
WARNING: All log messages before absl::InitializeLog() is called are written to STDERR
I0000 00:00:1754226042.410687  929533 gl_context.cc:357] GL version: 2.1 (2.1 Metal - 89.4), renderer: Apple M3
INFO: Created TensorFlow Lite XNNPACK delegate for CPU.
W0000 00:00:1754226042.559819  929636 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1754226042.608051  929636 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:services.ai.dance_breakdown:✅ OpenAI client initialized
INFO:     Started server process [37371]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
Connected to MongoDB
INFO:     127.0.0.1:61746 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61761 - "GET /api/ai/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61773 - "POST /api/ai/dance-breakdown HTTP/1.1" 422 Unprocessable Entity
WARNING:  StatReload detected changes in 'test_dance_breakdown_api.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [37371]
WARNING: All log messages before absl::InitializeLog() is called are written to STDERR
I0000 00:00:1754226087.326842  930581 gl_context.cc:357] GL version: 2.1 (2.1 Metal - 89.4), renderer: Apple M3
INFO: Created TensorFlow Lite XNNPACK delegate for CPU.
W0000 00:00:1754226087.444918  930625 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1754226087.493737  930627 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:services.ai.dance_breakdown:✅ OpenAI client initialized
INFO:     Started server process [37487]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'services/ai/dance_breakdown.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [37487]
WARNING: All log messages before absl::InitializeLog() is called are written to STDERR
I0000 00:00:1754226124.671875  931394 gl_context.cc:357] GL version: 2.1 (2.1 Metal - 89.4), renderer: Apple M3
INFO: Created TensorFlow Lite XNNPACK delegate for CPU.
W0000 00:00:1754226124.747429  931438 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1754226124.776218  931438 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:services.ai.dance_breakdown:✅ OpenAI client initialized
INFO:     Started server process [37534]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'test_dance_breakdown_api.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [37534]
WARNING: All log messages before absl::InitializeLog() is called are written to STDERR
I0000 00:00:1754226183.367937  932803 gl_context.cc:357] GL version: 2.1 (2.1 Metal - 89.4), renderer: Apple M3
INFO: Created TensorFlow Lite XNNPACK delegate for CPU.
W0000 00:00:1754226183.444879  932888 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
W0000 00:00:1754226183.481568  932890 inference_feedback_manager.cc:114] Feedback manager requires a model with a single signature inference. Disabling support for feedback tensors.
INFO:services.ai.dance_breakdown:✅ OpenAI client initialized
INFO:     Started server process [37649]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'services/ai/service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [37649]
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001f5159f00 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'venv/lib/python3.11/site-packages/yt_dlp/extractor/arkena.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001f5159f00 (most recent call first):
  <no Python frame>
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/Users/shreyansh/idance-backend/venv/lib/python3.11/site-packages/uvicorn/__main__.py", line 4, in <module>
    uvicorn.main()
  File "/Users/shreyansh/idance-backend/venv/lib/python3.11/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/shreyansh/idance-backend/venv/lib/python3.11/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
         ^^^^^^^^^^^^^^^^
  File "/Users/shreyansh/idance-backend/venv/lib/python3.11/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/shreyansh/idance-backend/venv/lib/python3.11/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/shreyansh/idance-backend/venv/lib/python3.11/site-packages/uvicorn/main.py", line 413, in main
    run(
  File "/Users/shreyansh/idance-backend/venv/lib/python3.11/site-packages/uvicorn/main.py", line 575, in run
    ChangeReload(config, target=server.run, sockets=[sock]).run()
  File "/Users/shreyansh/idance-backend/venv/lib/python3.11/site-packages/uvicorn/supervisors/basereload.py", line 53, in run
    for changes in self:
  File "/Users/shreyansh/idance-backend/venv/lib/python3.11/site-packages/uvicorn/supervisors/basereload.py", line 72, in __next__
    return self.should_restart()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/shreyansh/idance-backend/venv/lib/python3.11/site-packages/uvicorn/supervisors/statreload.py", line 32, in should_restart
    for file in self.iter_py_files():
  File "/Users/shreyansh/idance-backend/venv/lib/python3.11/site-packages/uvicorn/supervisors/statreload.py", line 52, in iter_py_files
    for path in list(reload_dir.rglob("*.py")):
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/shreyansh/.pyenv/versions/3.11.6/lib/python3.11/pathlib.py", line 968, in rglob
    for p in selector.select_from(self):
  File "/Users/shreyansh/.pyenv/versions/3.11.6/lib/python3.11/pathlib.py", line 408, in _select_from
    for p in successor_select(starting_point, is_dir, exists, scandir):
  File "/Users/shreyansh/.pyenv/versions/3.11.6/lib/python3.11/pathlib.py", line 355, in _select_from
    with scandir(parent_path) as scandir_it:
         ^^^^^^^^^^^^^^^^^^^^
  File "/Users/shreyansh/.pyenv/versions/3.11.6/lib/python3.11/pathlib.py", line 938, in _scandir
    return os.scandir(self)
           ^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: '/Users/shreyansh/idance-backend/venv/lib/python3.11/site-packages/ruptures-1.1.9.dist-info'
